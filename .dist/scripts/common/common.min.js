"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e){function n(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}function r(t,e){if("object"===n(t)&&"object"===n(e))for(var a in e)e.hasOwnProperty(a)&&("object"===n(t[a])&&"object"===n(e[a])?r(t[a],e[a]):(t[a],e[a]));return t}function a(t){var e=window.sessionStorage.getItem(t);return e?JSON.parse(e):null}function i(t){return t<10?"0"+t:""+t}function o(t){return(t=t||new Date).getFullYear+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())}function u(t){return(t=t||new Date).getFullYear+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())+" "+i(t.getHours())+":"+i(t.getMinutes())+":"+i(t.getSeconds())}function c(){return/iphone/i.test(navigator.userAgent.toLowerCase())}var l={};l.ready=function(t){$(document).ready(function(){t&&t()})},l.router={serializeParams:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+="&"+n+"="+t[n]);return e.replace(/^&/,"")},go:function(t){var e=window.location,n=t.path||"/index",r=t.query||{},a=e.origin+e.pathname.replace(/\/[a-z-]+\.html$/,"")+n+".html?"+this.serializeParams(r);e.href=a}},l.getRoute=function(){var t=window.location;return{path:t.pathname.replace(/^.*(\/[a-z-]+)\.html/,"$1"),query:function(){var e=t.search.replace(/^\?/,"");if(!e)return{};var n={};return e.split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]}),n}()}},l.typeOf=n,l.merge=r,l.alert=function(t,e,n){e=e||{},n=n||function(){},layui.use("layer",function(){var r=layui.layer;r.ready(function(){r.alert(t,e,function(t){n(),r.close(t)})})})},l.confirm=function(t,e,n,r){e=e||{},n=n||function(){},r=r||function(){},layui.use("layer",function(){var a=layui.layer;a.ready(function(){a.confirm(t,e,function(t){n(),a.close(t)},function(t){r(),a.close(t)})})})},l.msg=function(t,e,n){e=e||{},n=n||function(){},layui.use("layer",function(){var t=layui.layer;t.ready(function(){t.msg(content,e,n)})})};var s=null;l.load=function(t){(t=t||!1)?layui.use("layer",function(){var t=layui.layer;t.ready(function(){s&&t.close(s),s=t.load(0)})}):layui.use("layer",function(){var t=layui.layer;t.ready(function(){s&&t.close(s)})})},l.swiper=function(t){new window.Swiper(t,{direction:"horizontal",loop:!0,autoplay:2e3,autoplayDisableOnInteraction:!1,pagination:{el:".swiper-pagination"}})};var f=0;l.post=function(t,e,n,a){e=e||{};var i=(a=a||{handleErrorAutomatically:!0,silent:!1}).handleErrorAutomatically||!1,o=a.silent||!1;return o||1!==++f||s||l.load(!0),$.ajax(r({type:"POST",accept:"application/json",contentType:!(e instanceof FormData)&&"application/x-www-form-urlencoded;charset=utf-8",url:"/api-prefix/"+(t||"")+".do",dataType:"json",processData:!(e instanceof FormData),data:function(){if(e instanceof FormData)return e;var t=(new Date).getTime();return{requestTime:t,sessionToken:hexMd5((t+"").substring((t+"").length-8)),requestBody:JSON.stringify(e)}}()},n||{})).done(function(t){("200"!==t.status||t.errorCode)&&i&&l.alert(t.errorMsg||"服务器响应异常！")}).fail(function(){i&&l.alert("网络异常，请稍后再试！")}).always(function(){o||0===--f&&s&&l.load(!1)})},l.getQueryString=function(t){var e=new RegExp("(\\?|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.match(e);return n?window.decodeURI(n[2]):""},l.trimSpaces=function(t){return(t=""+t).replace(/\s/g,"")},l.hasValue=function(t){return""!==t&&null!==t&&void 0!==t&&!/^\s+$/.test(t)},l.getString=function(t){return 0===t?"0":t?""+t:""},l.getInteger=function(t){return t?parseInt(t,10):0};var d=window.location.hostname+":video";l.getData=function(t){return(a(d)||{})[t]||{}},l.setData=function(t,e){var n=a(d)||{};!function(t,e){window.sessionStorage.setItem(t,encodeURI(JSON.stringify(e)))}(d,r(n,_defineProperty({},t,e||{})))},l.getUserData=function(){return l.getData("user")},l.setUserData=function(t){l.setData("user",t)},l.toDouble=i,l.getRelativeDateString=function(t,e,n){t=t||0,e=e||0,n=n||0;var r=new Date;return r.setFullYear(r.getFullYear+t),r.setMonth(r.getMonth()+e),r.setDate(r.getDate()+n),r.getFullYear()+"-"+i(r.getMonth()+1)+"-"+i(r.getDate())},l.dateToString=o,l.dateToFullString=u(),l.timestampToString=function(t){return o(new Date(t))},l.timestampToFullString=function(t){return u(new Date(t))},l.stringToDate=function(t){if(t&&10===t.length){var e=t.split(/[-]/);return new Date(e[0],e[1]-1,e[2])}throw new Error("wrong dateString paramater for function stringToDate: "+t)},l.fullStringToDate=function(t){if(t&&19===t.length){var e=t.split(/[- :]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}throw new Error("wrong dateString paramater for function fullStringToDate: "+t)},l.validatePhone=function(t){return/^1[3-8]\d{9}$/.test(t)},l.validateEmail=function(t){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)},l.getScreenOrientation=function(){return 180===window.orientation||0===window.orientation?c()?"portrait":"landscape":90===window.orientation||-90===window.orientation?c()?"landscape":"portrait":void 0},l.payByWechat=function(t,e){function n(t,e){window.WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(t){t&&"get_brand_wcpay_request:ok"===t.err_msg?l.alert("支付成功",null,function(){e&&e()}):!t||"get_brand_wcpay_request:cancel"!==t.err_msg&&"get_brand_wcpay_request:fail"!==t.err_msg?t&&t.err_desc?l.alert(t.err_desc):l.alert("支付失败"):l.alert("未成功支付")})}t={appId:t.appId||"",timeStamp:t.timeStamp||"",nonceStr:t.nonceStr||"",package:t.package||"",signType:"MD5",paySign:t.paySign};void 0===window.WeixinJSBridge?window.document.addEventListener?window.document.addEventListener("WeixinJSBridgeReady",n.bind(null,t),!1):window.document.attachEvent&&(window.document.attachEvent("WeixinJSBridgeReady",n.bind(null,t)),window.document.attachEvent("onWeixinJSBridgeReady",n.bind(null,t))):n(t)},e.utils=l}(document,window);